# Routing

## Add a new route 

```bash
# Linux
sudo route add -net 10.67.0.0/16 gw 192.168.120.254
sudo ip route add 10.86.74.0/24 via 192.168.193.85
```

```bash
# Mac
sudo route -n add -net 10.10.10.0/24  10.10.14.30
```

## List the routes

```bash
$ netstat -rn
Kernel IP routing table
Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface
0.0.0.0         192.168.0.1     0.0.0.0         UG        0 0          0 wlan0
172.17.0.0      0.0.0.0         255.255.0.0     U         0 0          0 docker0
192.168.0.0     0.0.0.0         255.255.255.0   U         0 0          0 wlan0

$ route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         192.168.0.1     0.0.0.0         UG    600    0        0 wlan0
172.17.0.0      0.0.0.0         255.255.0.0     U     0      0        0 docker0
192.168.0.0     0.0.0.0         255.255.255.0   U     600    0        0 wlan0
```

Get the subnet with your listing

```bash
$ ip route
default via 192.168.0.1 dev wlan0 proto dhcp metric 600 
172.17.0.0/16 dev docker0 proto kernel scope link src 172.17.0.1 linkdown 
192.168.0.0/24 dev wlan0 proto kernel scope link src 192.168.0.12 metric 600
```

## Ping sweep

```bash
# fping (ping sweep) 
fping -a -g 10.142.111.0/24 2> /dev/null
```

```bash
# List all live hosts on the network / Ping scan
nmap -sn -n 192.168.1.4.*
nmap -sn 192.168.1.4-254
nmap -sn -n 10.142.111.*
netdiscover -P -i eth1 -r 192.168.4.0/24
```
